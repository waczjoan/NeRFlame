default_setup_params: &default_setup_params
    no_batching: false
    use_viewdirs: false
    near: 2.0
    far: 6.0
    N_rand: 1024
    device: 'cuda'
    i_weights: 2500
    i_testset: 5000
    i_video: 50000
    i_print: 50000
    input_dims_embed: 3
    white_bkgd: True
    half_res: true

default_nerf_setup_params: &default_nerf_setup_params
    N_samples: 64
    N_importance: 128

without_importance_nerf_setup_params: &without_importance_nerf_setup_params
    N_samples: 64
    N_importance: 0

dataset_face_M1000N_setup: &dataset_face_M1000N_setup
    basedir: "logs"
    datadir: "data/face_M1000_N"
    dataset_type: "blender"

default_dataset_face_M1000N_setup: &default_dataset_face_M1000N_setup
    expname: "nerf"

without_importance_dataset_face_M1000N_setup: &without_importance_dataset_face_M1000N_setup
    expname: "nerf_without_importance"

flame_dataset_face_M1000N_setup: &flame_dataset_face_M1000N_setup
    expname: "flame_nerf"

default_flame_setup_params: &default_flame_setup_params
  flame_model_path: './FLAME/model/generic_model.pkl'


face_M1000N_default_module:
  module: "flame_nerf_mod.trainers.BlenderTrainer"
  kwargs:
    <<: *default_setup_params
    <<: *default_nerf_setup_params
    <<: *dataset_face_M1000N_setup
    <<: *default_dataset_face_M1000N_setup

face_M1000N_without_importance_module:
  module: "flame_nerf_mod.trainers.BlenderTrainer"
  kwargs:
    <<: *default_setup_params
    <<: *without_importance_nerf_setup_params
    <<: *dataset_face_M1000N_setup
    <<: *without_importance_dataset_face_M1000N_setup


face_M1000N_default_module_flame:
  module: "flame_nerf_mod.trainers.FlameBlenderTrainer"
  kwargs:
    <<: *default_setup_params
    <<: *without_importance_nerf_setup_params
    <<: *dataset_face_M1000N_setup
    <<: *flame_dataset_face_M1000N_setup
    config:
     module: "FLAME.FlameConfig"
     kwargs:
       <<: *default_flame_setup_params